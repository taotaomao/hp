<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>飘落的树叶-jq22.com</title>
<script src="http://libs.baidu.com/jquery/1.11.3/jquery.min.js"></script>
<style>
body {
	background-color:#4E4226;
}
#container {
	position:relative;
	height:700px;
	width:500px;
	margin:50px auto;
	overflow:hidden;
	border:4px solid #5C090A;
	background:#4E4226 url('https://webkit.org/blog-files/leaves/images/backgroundLeaves.jpg') no-repeat top left;
}
#leafContainer {
	position:absolute;
	width:100%;
	height:100%;
}
#message {
	position:absolute;
	top:160px;
	width:100%;
	height:300px;
	background:transparent url('https://webkit.org/blog-files/leaves/images/textBackground.png') repeat-x center;
	color:#5C090A;
	font-size:220%;
	font-family:'Georgia';
	text-align:center;
	padding:20px 10px;
	box-sizing:border-box;
	background-size:100% 100%;
	z-index:1;
}
p {
	margin:80px 15px;
}
a {
	color:#5C090A;
	text-decoration:none;
}
em {
	font-weight:bold;
	font-style:normal;
}
.phone {
	font-size:150%;
	vertical-align:middle;
}
#leafContainer>div {
	position:absolute;
	width:100px;
	height:100px;
	animation-iteration-count:infinite,infinite;
	animation-direction:normal,normal;
	animation-timing-function:linear,ease-in;
}
#leafContainer>div>img {
	position:absolute;
	width:100px;
	height:100px;
	animation-iteration-count:infinite;
	animation-direction:alternate;
	animation-timing-function:ease-in-out;
	transform-origin:50% -100%;
}
@keyframes fade {
	0% {
	opacity:1;
}
90% {
	opacity:0.7;
}
100% {
	opacity:0;
}
}@keyframes drop {
	0% {
	transform:translate(0px,-50px);
}
100% {
	transform:translate(0px,650px);
}
}@keyframes clockwiseSpin {
	0% {
	transform:rotate(-50deg);
}
100% {
	transform:rotate(50deg);
}
}@keyframes counterclockwiseSpinAndFlip {
	0% {
	transform:scale(-1,1) rotate(50deg);
}
100% {
	transform:scale(-1,1) rotate(-50deg);
}
}</style>
</head>
<body>
<div id="container">
    <div id="leafContainer"></div>
    <div id="message">
        <p>
            Fall leaves are beautiful…<br> on someone else’s lawn.
        </p>
    </div>
</div><script>
const NUMBER_OF_LEAVES = 30;

function init() {
    var container = document.getElementById('leafContainer');
    for (var i = 0; i < NUMBER_OF_LEAVES; i++) {
        container.appendChild(createALeaf());
    }
}

function randomInteger(low, high) {
    return low + Math.floor(Math.random() * (high - low));
}

function randomFloat(low, high) {
    return low + Math.random() * (high - low);
}

function pixelValue(value) {
    return value + 'px';
}

function durationValue(value) {
    return value + 's';
}

function createALeaf() {
    var leafDiv = document.createElement('div');
    var image = document.createElement('img');
    image.src = 'https://webkit.org/blog-files/leaves/images/realLeaf' + randomInteger(1, 5) + '.png';
    leafDiv.style.top = "-100px";
    leafDiv.style.left = pixelValue(randomInteger(0, 500));
    var spinAnimationName = (Math.random() < 0.5) ? 'clockwiseSpin' : 'counterclockwiseSpinAndFlip';
    leafDiv.style.webkitAnimationName = 'fade, drop';
    image.style.webkitAnimationName = spinAnimationName;
    var fadeAndDropDuration = durationValue(randomFloat(5, 11));
    var spinDuration = durationValue(randomFloat(4, 8));
    leafDiv.style.webkitAnimationDuration = fadeAndDropDuration + ', ' + fadeAndDropDuration;
    var leafDelay = durationValue(randomFloat(0, 5));
    leafDiv.style.webkitAnimationDelay = leafDelay + ', ' + leafDelay;
    image.style.webkitAnimationDuration = spinDuration;
    leafDiv.appendChild(image);
    return leafDiv;
}
window.addEventListener('load', init, false);</script>
</body>
</html>
